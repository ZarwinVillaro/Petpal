<% if current_user && current_user.role == "pet_owner" %>
  <div class="d-flex justify-content-between align-items-center">
    <h1 class="my-4">Manage Your Pets</h1>
    <%= link_to "Add New Pet", new_pet_path, class: "btn btn-success" %>
  </div>
<% end %>

<table class="table table-hover">
  <thead class="table-green">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">Age</th>
      <th scope="col">Breed</th>
      <th scope="col">Category</th>
      <th scope="col">Description</th>
      <th scope="col">Image</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody class="table-group-divider">
    <% @pets.each_with_index do |pet, index| %>
      <tr>
        <th scope="row"><%= index + 1 %></th>
        <td><%= pet.name %></td>
        <td><%= pet.age %></td>
        <td><%= pet.breed %></td>
        <td><%= pet.category %></td>
        <td><%= pet.description %></td>
        <td>
          <% if pet.image.attached? %>
            <%= image_tag pet.image, class: "img-fluid rounded", alt: "Pet Image", style: "height: 100px; width: 100px; object-fit: cover;" %>
          <% else %>
            <img src="default_image.jpg" class="img-fluid rounded" alt="Default Image" style="height: 100px; width: 100px; object-fit: cover;">
          <% end %>
        </td>
        <td class="d-flex justify-content-start">
          <%= link_to "View", pet, class: "btn btn-primary btn-sm me-2", style: "padding: .25rem .5rem; font-size: .75rem;" %>
          <%= link_to "Edit", edit_pet_path(pet), class: "btn btn-secondary btn-sm me-2", style: "padding: .25rem .5rem; font-size: .75rem;" %>
          <%= link_to "Delete", pet, method: :delete, data: { confirm: "Are you sure you want to delete this pet?" }, class: "btn btn-danger btn-sm", style: "padding: .25rem .5rem; font-size: .75rem;" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
